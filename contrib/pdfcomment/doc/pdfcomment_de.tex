\documentclass[a4paper]{ltxdoc}%
\usepackage[german]{babel}%
\usepackage[latin1]{inputenc}%
\usepackage[T1]{fontenc}%
\usepackage{lmodern}%
\usepackage{bera}%
\usepackage{textcomp}%
\usepackage{microtype}%
\usepackage{attachfile}%
\usepackage{ltxdocext}%
\usepackage{marginnote}%
\usepackage{metalogo}%
\usepackage[svgnames,rgb]{xcolor}%
\usepackage{amsmath,array}%
\usepackage{tikz}%
\usetikzlibrary{calc}%
\usepackage{ragged2e}%
\usepackage{url}%
\usepackage[automark,nouppercase]{scrpage2}
\usepackage{pdfcomment}%
%
\def\LinkExMath{\href{http://mirror.ctan.org/macros/latex/contrib/pdfcomment/doc/example_math_markup.pdf}{\texttt{example\_math\_markup.pdf}}}
\def\LinkEx{\href{http://mirror.ctan.org/macros/latex/contrib/pdfcomment/doc/example.pdf}{\texttt{example.pdf}}}
\def\filename{pdfcomment.sty}%
\def\XeLaTeX{Xe\LaTeX}%
%
\makeatletter%
\hypersetup{colorlinks=true,urlcolor=NavyBlue,linkcolor=NavyBlue,citecolor=CornflowerBlue,naturalnames=true,hypertexnames=false}%
\setlength{\headheight}{1.1\baselineskip}%
%
\renewcommand{\maketitle}%
{%
  \thispagestyle{empty}%
  \pagecolor{Ivory}%
  \begin{titlepage}%
    \begin{tikzpicture}[remember picture,overlay]%
      \node[yshift=-2cm] at (current page.north west)%
      {%
        \begin{tikzpicture}[remember picture, overlay]%
          \draw[fill=CornflowerBlue,color=CornflowerBlue] (0,0) rectangle%
            (\paperwidth,2cm);%
          \draw[anchor=west,yshift=-4cm,xshift=3cm,color=NavyBlue] (0,0) node%
            {\parbox{15cm}{\RaggedRight\Huge\sffamily\textbf{\@title}}};%
          \draw[anchor=west,yshift=-6cm,xshift=3cm,color=NavyBlue] (0,0) node%
            {\parbox{15cm}{\huge\sffamily\textbf{\@fileversion}}};%
          \draw[anchor=west,yshift=-9cm,xshift=3cm,color=NavyBlue] (0,0) node%
            {\parbox{15cm}{\RaggedRight\huge\sffamily\textbf{\@subtitle}}};%
          \draw[anchor=west,yshift=-14cm,xshift=3cm,color=NavyBlue] (0,0) node%
            {\parbox{15cm}{\huge\sffamily\textbf{\@date}}};%
          \draw[anchor=west,yshift=-20cm,xshift=3cm,color=NavyBlue] (0,0) node%
            {\parbox{15cm}{\Large\sffamily{\@authorline\\\textbf{\@author}}}};%
        \end{tikzpicture}%
      };%
      \node[yshift=0cm] at (current page.south west)%
      {%
        \begin{tikzpicture}[remember picture, overlay]%
          \draw[fill=NavyBlue,color=NavyBlue,yshift=6cm,xshift=2cm] (0,0) rectangle (0.2cm,19cm);%
          \draw[fill=CornflowerBlue,color=CornflowerBlue] (0,0) rectangle (\paperwidth,2cm);%
          \draw[anchor=west,yshift=1cm,xshift=3cm,color=NavyBlue] (0,0) node%
            {\parbox{15cm}{\large\sffamily{\@refline}}};%
        \end{tikzpicture}%
      };%
    \end{tikzpicture}%
  \end{titlepage}%
  \pagecolor{white}%
}%
%
\newcommand*{\@tikzhead}[1]%
{%
  \begin{tikzpicture}[remember picture,overlay]%
    \node[yshift=-2cm] at (current page.north west)%
    {%
      \begin{tikzpicture}[remember picture, overlay]%
        \draw[fill=CornflowerBlue] (0,0) rectangle (\paperwidth,2cm);%
        \draw[anchor=west,yshift=1cm,xshift=1.5cm,color=NavyBlue] (0,0) node%
          {\parbox{15cm}{\LARGE\sffamily\textbf{\@title}}};%
        \node[anchor=east,xshift=.9\paperwidth,rectangle,%
              rounded corners=15pt,inner sep=11pt,fill=NavyBlue]%
              {\color{white}\textsc{#1}};%
      \end{tikzpicture}%
    };%
  \end{tikzpicture}%
}%
\clearscrheadings%
\ihead{\@tikzhead{\headmark}}%
\cfoot{\thepage}%
\pagestyle{scrheadings}%
%
\renewcommand{\headfont}{\normalfont\mdseries\scshape}
%
%\newcommand*{\Headline}[1]{\@mkboth{\MakeUppercase{#1}}{\MakeUppercase{#1}}}%
\newcommand*{\Headline}[1]{\@mkboth{#1}{#1}}%
%
\gdef\@subtitle{}%
\providecommand*{\Subtitle}[1]{\gdef\@subtitle{#1}}%
\gdef\@fileversion{}%
\providecommand*{\Fileversion}[1]{\gdef\@fileversion{#1}}%
\gdef\@authorline{Package Autor:}%
\providecommand*{\Authorline}[1]{\gdef\@authorline{#1}}%
\gdef\@refline{}%
\providecommand*{\Refline}[1]{\gdef\@refline{#1}}%
\gdef\and{\unskip{}, }%
%
\renewcommand\tableofcontents%
{%
  %\section*{\contentsname}%
  \@mkboth{%
  \MakeUppercase\contentsname}{\MakeUppercase\contentsname}%
  \@starttoc{toc}%
}%
%
\CodelineIndex%
\renewcommand{\arg}[1]%
{%
 {\ttfamily\string{}\meta{#1}{\ttfamily\string}}%
 \index{#1=\string\ttt{#1}, Argument}\index{Argument>#1=\string\ttt{#1}}%
}%
\renewcommand{\oarg}[1]%
{%
 {\ttfamily[%]
  }\meta{#1}{\ttfamily%[
 ]}%
 \index{#1=\string\ttt{#1}, optionales Argument}%
 \index{Argument, optional>#1=\string\ttt{#1}}%
}%
\renewcommand\env{\name@idx{Umgebung}}%
\renewcommand*{\file}[1]{%
 {\ttfamily#1}%
 \index{#1=\string\ttt{#1}}\index{Datei>#1=\string\ttt{#1}}%
}%
\newcommand\styleoption{\name@idx{Styleoption}}%
\newcommand\stylename{\name@idx{Dokumentenstyle}}%
\def\name@idx#1#2{%
 {\ttfamily#2}%
 \index{#2\space#1=\string\ttt{#2}\space#1}\index{#1>#2=\string\ttt{#2}}%
}%
\newcommand*\margcs[1]{\marginnote{\raggedleft\scriptsize #1}}%
\newcommand*\package[1]{\texttt{#1}\index{#1=\string\ttt{#1}}}%
\newcommand*\mco[1]{\mbox{\LANGLE\itshape#1\RANGLE}\index{#1, Klassenoptionwert}\index{Klassenoptionwert>#1}}%
%
\renewcommand\@biblabel[1]{\makebox[1.5cm][l]{[#1]}}%
\renewcommand*\l@subsection{\@dottedtocline{2}{1.2em}{2.3em}}%
\renewcommand*\l@subsubsection{\@dottedtocline{3}{2.4em}{3.7em}}%
\makeatother%
%
\setlength\parindent{0pt}%
%
\hypersetup{pdfauthor={Josef Kleber},pdftitle={Ein benutzerfreundliches Interface zu PDF-Kommentaren},pdfsubject={Dokumentation für den LaTeX style \filename}}
%
\begin{document}
%\pdfcommentsetup{date=D:20101212153723+01'00'}
\date{2016/06/13}
\bibliographystyle{alphadin}
\title{\filename}%
\Subtitle{Ein benutzerfreundliches Interface zu PDF-Kommentaren}%
\author{Josef Kleber}
\Fileversion{v2.4}
\Refline{\href{mailto:pdfcomment@jklatex.de}{\texttt{pdfcomment@jklatex.de}}\\\href{http://pdfcomment.jklatex.de}{\texttt{http://pdfcomment.jklatex.de}}}
\maketitle
\Headline{Zusammenfassung}%
\begin{abstract}
\texttt{pdflatex}\index{pdflatex} bietet seit jeher den Befehl \cmd\pdfannot{} für das Einfügen beliebiger PDF annotations. Allerdings in einer Form, in der zusätzliche Kenntnisse der PDF-Referenz unabdingbar sind. \substyle{\filename} ist eine Antwort auf die in Newsgroups -- von Zeit zu Zeit -- auftauchende Frage, wie man die Kommentarfunktion des \texttt{Adobe Reader} nutzen könnte. Zumindest aus dem \LaTeX{}-Code heraus, bietet \substyle{\filename} eine bequeme und nutzerfreundliche Möglichkeit PDF annotations in PDF-Dateien zu nutzen. Seit Version v1.1 unterstützt \texttt{\filename{}} auch:

\medskip
\noindent\hfill\texttt{\LaTeX{} $\rightarrow$ \texttt{dvips} $\rightarrow$ \texttt{ps2pdf}, \LaTeX{} $\rightarrow$ \texttt{dvipdfmx}\footnote{nur mit der Styleoption \texttt{dvipdfmx}}, \XeLaTeX\ und \LuaLaTeX}.\hfill
\medskip

Leider ist die Unterstützung der PDF annotations durch die PDF-Viewer teilweise nur sehr eingeschränkt bzw. gar nicht vorhanden. Der Referenz-Viewer für die Entwicklung dieses Pakets ist \texttt{Adobe Reader}.

Falls Sie diesen Kommentar \pdfcomment[author={Josef Kleber},subject={Test Kommentar},color=lime,hspace=20pt]{Das ist ein Kommentar} nicht sehen, benutzen Sie definitiv den falschen PDF-Viewer!
\end{abstract}
\vfill
\begin{center}
\subsubsection*{Benötigte Pakete für die Nutzung von \substyle{\filename}}
\fbox{\parbox[t]{.8\linewidth}{\small \package{hyperref} (v6.76a [2007/04/09]), \package{zref} (v1.8 [2007/04/22]), \package{xkeyval}, \package{etoolbox}, \package{luatex85}, \package{ifpdf}, \package{ifthen}, \package{calc}, \package{marginnote}, \package{datetime2}, \package{refcount}, \package{soulpos} und die von diesen Paketen aufgerufenen Dateien.}}
\end{center}
\vfill
\clearpage
\begin{multicols}{2}
[\section*{\contentsname}
\setlength{\columnseprule}{.5pt}
\setlength{\columnsep}{30pt}\small]
\tableofcontents
\end{multicols}
\clearpage
\section*{Danksagung}
\Headline{Danksagung}%
Für Beiträge zur Entwicklung dieses Pakets möchte ich folgenden Personen danken:

\begin{itemize}
\item \textbf{Javier Bezos} für die Entwicklung von \package{soulpos}, das eine bessere Unterstützung von Nicht-Standardtext-Fällen in \cs{pdfmarkupcomment} möglich macht.

\item \textbf{Alexander Grahn} für das Bereitstellen eines Patchs für andere Treiber

\medskip
\noindent\hfill\texttt{\LaTeX{} $\rightarrow$ \texttt{dvips} $\rightarrow$ \texttt{ps2pdf}, \LaTeX{} $\rightarrow$ \texttt{dvipdfmx} und \XeLaTeX}.\hfill
\medskip

\item \textbf{Ulrike Fischer} für das Beantworten meiner dummen Fragen in d.c.t.t. zur Verwirklichung des Avatar- und Style-Systems und vieles mehr.

\item \textbf{Christian Feuersänger} für das Einbringen neuer Ideen in Form von \package{pdfmarginpar.sty} und die Lösung des Druckproblems\footnote{siehe Abschnitt \ref{sec:print}} der PDF annotations und popups. 

\item \textbf{Ross Moore} für das Einbringen von Ideen und Code zur Umsetzung seines eigenen feature requests zur Unterstützung von \texttt{\string\pdfmarkupcomment} im math mode.

\item \textbf{Heiko Oberdiek} ebenfalls für das Beantworten meiner dummen Fragen in d.c.t.t., sowie die Entwicklung dutzender nützlicher Pakete, speziell \file{hyperref.sty}, \file{hycolor.sty} und \file{zref.sty}, die dieses Paket erst ermöglichten.

\item \textbf{Herbert Voß} ebenfalls für das Beantworten meiner dummen Fragen in d.c.t.t.
\end{itemize}

Außerdem möchte ich folgenden Personen danken für bug reports, feature requests, ...: Til Birnstiel, Jannis von Buttlar, Gabriel Cardona, Thomas Feller, Florent Chervet, Jin-Hwan Cho, Marcel Dausend, Andrew Dawson, diabonas, Max Funk, Zvi Gilboa, Thomas König, Marc-André Michel, Guillaume Millet, Fritz Moore, Michael Niedermair, Stefan Pinnow, René Schwarz
\clearpage
\section{Optionen}
\subsection{Globale Styleoptionen}
\subsubsection[\texttt{final}]{\styleoption{final}}\label{sec:final}
Mit der Option \texttt{final} versetzt man das Paket in den Final-Modus. Die PDF annotations werden nicht gesetzt und beeinflussen daher auch nicht den Zeilen\-umbruch. Benutzen Sie die lokale Option \styleoption{disable}, falls Sie nur einzelne PDF annotations abschalten möchten. (siehe: \ref{sec:disable})
\subsubsection[\texttt{draft}]{\styleoption{draft}}\label{sec:draft}
Mit der Option \texttt{draft} (default) versetzt man das Paket in den Draft-Modus. Die PDF annotations werden daher gesetzt.
\subsubsection[\texttt{dvipdfmx}]{\styleoption{dvipdfmx}}\label{sec:dvipdfmx}
Falls Sie für die Erstellung Ihrer Dokumente den Treiber \texttt{dvipdfmx} einsetzen möchten, müssen Sie die Option \texttt{dvipdfmx} benutzen. Die anderen bereits erwähnten Treiber werden automatisch erkannt.
\subsubsection[\texttt{version}]{\styleoption{version}}\label{sec:version}
Mit der Version v2.0 von \texttt{pdfcomment.sty} wurde ein Bugfix hinzugefügt, der ungewollten Whitespace vor den Kommentarbefehlen entfernt. Das ändert u.\,U. auch den  Referenzpunkt für Optionen wie \styleoption{hoffset}. Möchten Sie das ursprüngliche Verhalten erhalten - etwa für alte Dokumente - verwenden Sie die Option  \texttt{version=1}. Ansonsten wird die Option \texttt{version=2} als Default verwendet!
\subsection{Lokale Optionen}
Die anschließend vorgestellten Optionen sind für die in den Abschnitten \ref{sec:umgebungen} und \ref{sec:befehle} vorgestellten Befehle anwendbar, allerdings können sie auch als Styleoptionen benutzt werden. Als Styleoptionen besitzen sie globale Wirkung, während sie in Befehlen nur eine lokale Wirkung besitzen und die globalen Optionen nicht überschreiben. 

\subsubsection[\texttt{subject}]{\styleoption{subject}}\label{sec:subject}
Die Option \styleoption{subject} dient der Festlegung der Überschriften der PDF popup annotations.

\subsubsection[\texttt{author}]{\styleoption{author}}\label{sec:author}
Die Option \styleoption{author} dient der Festlegung des Verfassers der PDF popup annotations.

\subsubsection[\texttt{opacity}]{\styleoption{opacity} (\underline{\texttt{1.0}})}\label{sec:opacity}
Die Option \styleoption{opacity} dient der Festlegung der Transparenz der PDF annotations. Die Werte liegen dabei zwischen 0 (transparent) und 1 (nicht transparent). Möchten Sie die PDF popup annotations mit Transparenz drucken, funktioniert das nur zuverlässig, falls sie mit der Option \styleoption{open}\texttt{=true} erstellt werden.

\subsubsection[\texttt{icon}]{\styleoption{icon} (\underline{\texttt{Comment}})}\label{sec:icon}
Die Option \styleoption{icon} dient der Festlegung der Grafik, die für die PDF text annotations benutzt werden sollen. Die folgenden Icons werden in der PDF-Referenz als verbindlich festgelegt:

\pdfcommentsetup{author={Josef Kleber},subject={Icon Übersicht},width=17mm}
{\renewcommand{\arraystretch}{2.5}
\begin{center}
\begin{tabular}{rlrlrl}
\texttt{Comment} & \pdfcomment[icon=Comment,color=Ivory,hspace=1.5cm]{Optionen: icon=Comment,color=Ivory} &
\texttt{Key} & \pdfcomment[icon=Key,color=Khaki,hspace=1.5cm]{Optionen: icon=Key,color=Khaki} &
\texttt{Note} & \pdfcomment[icon=Note,color=LavenderBlush,hspace=1.5cm]{Optionen: icon=Note,color=LavenderBlush}\\
\texttt{Help} & \pdfcomment[icon=Help,color=CornflowerBlue,hspace=1.5cm]{Optionen: icon=Help,color=CornflowerBlue} &
\texttt{NewParagraph} & \pdfcomment[icon=NewParagraph,color=SkyBlue,hspace=1.5cm]{Optionen: icon=NewParagraph,color=SkyBlue}\\
\texttt{Paragraph} & \pdfcomment[icon=Paragraph,color=SpringGreen,hspace=1.5cm]{Optionen: icon=Paragraph,color=SpringGreen} &
\texttt{Insert} & \pdfcomment[icon=Insert,color=PaleTurquoise,hspace=1.5cm]{Optionen: Insert,color=PaleTurquoise} &
 & \\
\end{tabular}
\end{center}
}

\begin{samepage}
Außerdem werden vom \texttt{Adobe Reader} und einigen anderen Viewern auch diese Icons unterstützt:

{\renewcommand{\arraystretch}{2.5}
\begin{center}
\begin{tabular}{rlrlrl}
\texttt{Check} & \pdfcomment[icon=Check,color=Orchid,hspace=1cm]{Optionen: icon=Check,color=Orchid} &
\texttt{Circle} & \pdfcomment[icon=Circle,color=LightCyan,hspace=1cm]{Optionen: icon=Circle,color=LightCyan} &
\texttt{Cross} & \pdfcomment[icon=Cross,color=Bisque,hspace=1cm]{Optionen: icon=Cross,color=Bisque}\\
\texttt{Star} & \pdfcomment[icon=Star,color=Aquamarine,hspace=1cm]{Optionen: icon=Star,color=Aquamarine} &
\texttt{RightArrow} & \pdfcomment[icon=RightArrow,color=Gainsboro,hspace=1cm]{Optionen: icon=RightArrow,color=Gainsboro} &
\texttt{RightPointer} & \pdfcomment[icon=RightPointer,color=Salmon,hspace=1cm]{Optionen: icon=RightPointer,color=Salmon}\\
\texttt{UpArrow} & \pdfcomment[icon=UpArrow,color=Teal,hspace=1cm]{Optionen: icon=UpArrow,color=Teal} &
\texttt{UpLeftArrow} & \pdfcomment[icon=UpLeftArrow,color=Magenta,hspace=1cm]{Optionen: icon=UpLeftArrow,color=Magenta} &
\texttt{CrossHairs (AR X)} & \pdfcomment[icon=CrossHairs,color=green,hspace=1cm]{Optionen: icon=CrossHairs,color=green}
\end{tabular}
\end{center}
}
\end{samepage}

\subsubsection[\texttt{deadline}]{\styleoption{deadline}}\label{sec:deadline}
Die Option \styleoption{deadline} dient der Festlegung einer Frist zur Behebung eines Problems. Die Frist wird an das Ende des Kommentars angefügt, sowie gegebenenfalls - bei entsprechendem Listenstil - auch in die Liste der Kommentare aufgenommen.

\subsubsection[\texttt{color}]{\styleoption{color} (\underline{\texttt{\lbrack 0 0 1\rbrack}} (blau))}\label{sec:color}
Die Option \styleoption{color} dient der Festlegung der Farbe der PDF annotations z.\,B. in der Form \{0.34 0.56 0.12\} (RGB). Bei Verwendung des Zusatzpakets \package{xcolor} kann man auch vordefinierte Basisfarbnamen, sowie die zusätzlich verfügbaren optionalen Farbnamen verwenden. Außerdem kann man mit dem Befehl \cmd\definecolor{} eigene benannte Farben definieren. Bitte beachten Sie das beigefügte Beispiel \file{example.tex}.\marginnote{\attachfile[author={Josef Kleber},subject={example.tex},description={Sourcecode: example.tex} ,mimetype={text/plain}, icon={Tag}]{example.tex}} Es bietet einen Überblick über die unterschiedlichen Möglichkeiten zur Festlegung der Farbe.

Grundsätzlich erlaubt die PDF Spezifikation vier unterschiedliche Farbräume, die sich in der Anzahl der Farbwertangaben unterscheiden:

\begin{center}
\begin{tabular}{cl}
\# & Farbraum\\
\hline
0 & transparent \\
1 & Grauwert \\
3 & RGB\\
4 & CMYK\\
\end{tabular}
\end{center}

\subsubsection[\texttt{icolor}]{\styleoption{icolor}}\label{sec:icolor}
Die Option \styleoption{icolor} dient der Festlegung der bei einigen PDF annotations genutzten sogenannten 'inner color', etwa in Pfeilspitzen oder die Innenfläche der PDF circle annotation. Im Übrigen gelten dieselben Bestimmungen wie bei der Option \styleoption{color}.

\subsubsection[\texttt{open}]{\styleoption{open} (\texttt{true},\underline{\texttt{false}})}\label{sec:open}
Die Option \styleoption{open} dient der Festlegung des Öffnungsstatus der PDF popup annotations.

Möchten Sie die PDF popup annotations (mit Transparenz) drucken, funktioniert das nur mit PDF annotations, die mit der Option \styleoption{open} = \texttt{true} erstellt wurden.

\subsubsection[\texttt{hspace}]{\styleoption{hspace} (\underline{\texttt{0pt}})}\label{sec:hspace}
Die Option \styleoption{hspace} dient der Anpassung des horizontalen Abstands hinter den PDF text annotations, falls der Text nicht durch die PDF text annotations überschrieben werden sollen.

\subsubsection[\texttt{type}]{\styleoption{type}}\label{sec:type}
Die Option \styleoption{type} dient der Festlegung des jeweiligen Typs der PDF annotation, falls ein Kommentarbefehl mehrere PDF annotations unterstützt:

{\renewcommand{\arraystretch}{1.2}
\begin{center}
\begin{tabular}{ll}
\multicolumn{1}{c}{Kommentarbefehl} & \multicolumn{1}{c}{mögliche Typen}\\
\hline
\cs{pdffreetextcomment} & \underline{freetext}, callout, typewriter \\
\cs{pdflinecomment} & \underline{line}, polyline, polygon \\
\end{tabular}
\end{center}}

\subsubsection[\texttt{font}]{\styleoption{font} (\underline{\texttt{Helv}})}\label{sec:font}
Die Option \styleoption{font} dient der Festlegung der Schriftart in PDF freetext annotations. Möglich sind dabei alle im System installierten Schriften, die keine Leerzeichen im Namen enthalten. Obwohl \texttt{Adobe Reader} diese Schrift als eingebettet kennzeichnet, ist sie das in der Realität nicht und die PDF-Datei enthält nur eine Referenz\footnote{Adobe Acrobat bietet die Möglichkeit Schriften bei der Konvertierung PS $\rightarrow$ PDF nachträglich einzubetten} auf die Schrift (default: Helvetica)! Daher sollte man diese Option nur sehr vorsichtig nutzen und z.\,B. beim Austausch des Dokuments unter mehreren Autoren nur Schriften nutzen, die auf allen beteiligten Computersystemen vorhanden sind. Das sind etwa die sogenannten 'standard 14 fonts'. \pdfcomment[icon=Help,color=blue,open=true,subject={Standard 14 fonts}]{Times-Roman (TiRo), Times-Bold (TiBo), Times-Italic (TiIt), Times-BoldItalic (TiBI), Helvetica (Helv), Helvetica-Bold (HeBo), Helvetica-Oblique (HeOb), Helvetica-BoldOblique (HeBO), Courier (Cour), Courier-Bold (CoBo), Courier-Oblique (CoOb), Courier-BoldOblique (CoBO), ZapfDingbats (ZaDb), Symbol (Symb)}

\subsubsection[\texttt{fontsize}]{\styleoption{fontsize} (\underline{\texttt{12bp}})}\label{sec:fontsize}
Die Option \styleoption{fontsize} dient der Festlegung der Schriftgröße in PDF freetext annotations.

\subsubsection[\texttt{fontcolor}]{\styleoption{fontcolor} (\underline{\texttt{\lbrack 0 0 0\rbrack}} (schwarz))}\label{sec:fontcolor}
Die Option \styleoption{fontcolor} dient der Festlegung der Schriftfarbe in PDF freetext annotations und erwartet dabei zwingend eine RGB-Farbe. 

\subsubsection[\texttt{line}]{\styleoption{line}}\label{sec:line}
Die Option \styleoption{line} dient der Festlegung der Koordinaten der Linien bei bestimmten PDF annotations, z.\,B. in der Form \{$x_1$\space$y_1$\space$x_2$\space$y_2$\}. Der Koordinatenursprung liegt dabei in der linken unteren Seitenecke, wobei die angegebenen Zahlen, als die in PDF-Dokumenten üblichen PostScript-Punkte (\LaTeX{}-Einheit: bp (big points)) interpretiert werden.

{\renewcommand{\arraystretch}{1.2}
\begin{center}
\begin{tabular}{ll}
\multicolumn{1}{c}{Linientyp} & \multicolumn{1}{c}{\# Punkte}\\
\hline
Linie & $n = 2$ \\
Polyline, Polygon & $n > 2$ \\
Callout Linie & $n = 3$ \\
\end{tabular}
\end{center}}

Üblicherweise erfolgt die Angabe der Koordinaten vom Linienanfang zum Linienende. Bei der Callout Linie müssen die Koordinaten vom Linienende bis zum Linienanfang angegeben werden. Beachten Sie dazu bitte das Beispiel \LinkEx!

Zur Vermeidung der Methode 'Versuch und Irrtum' kann man die PDF-Datei mit dem Ghostscript Viewer laden, der in der Lage ist die aktuelle Position des Cursors in der Statuszeile anzuzeigen.
 
\subsubsection[\texttt{linewidth}]{\styleoption{linewidth} (\underline{\texttt{1bp}})}\label{sec:linewidth}
Die Option \styleoption{linewidth} dient der Festlegung der Liniendicke in PDF annoations.

\subsubsection[\texttt{linebegin}]{\styleoption{linebegin} (\underline{\texttt{/None})}}\label{sec:linebegin}
Die Option \styleoption{linebegin} dient der Festlegung des Pfeiltyps am Linienanfang. Die Beispieldatei \LinkEx{} zeigt alle möglichen Pfeiltypen. \pdfcomment[icon=Help,color=blue,open=true,subject={Pfeiltypen}]{/None, /Square, /Circle, /Diamond, /OpenArrow, /ClosedArrow, /Butt (PDF1.5), /ROpenArrow (PDF1.5), /RClosedArrow (PDF1.5), /Slash (PDF1.6)} 

\subsubsection[\texttt{lineend}]{\styleoption{lineend} (\underline{\texttt{/OpenArrow}})}\label{sec:lineend}
Die Option \styleoption{lineend} dient der Festlegung des Pfeiltyps am Linienende.

\subsubsection[\texttt{linesep}]{\styleoption{linesep} (\underline{\texttt{0.5cm}})}\label{sec:linesep}
Die Option \styleoption{linesep} dient der Festlegung des horizontalen Abstands der Linie beim Befehl \cs{pdfsidelinecomment}.

\subsubsection[\texttt{borderstyle}]{\styleoption{borderstyle} (\underline{\texttt{solid}},\texttt{dashed})}\label{sec:borderstyle}
Die Option \styleoption{borderstyle} dient der Festlegung des Linienstils.

\subsubsection[\texttt{dashstyle}]{\styleoption{dashstyle} (\underline{\texttt{\{3 3\}}})}\label{sec:dashstyle}
Die Option \styleoption{dashstyle} dient der Festlegung des Strichlinienstils, z.\,B. \{5 3\} (5 Punkte Linie, 3 Punkte Abstand).

\subsubsection[\texttt{bse}]{\styleoption{bse} (\underline{\texttt{none}},\texttt{cloudy})}\label{sec:bse}
Die Option \styleoption{bse} dient der Festlegung des 'border style effect'.

\subsubsection[\texttt{bsei}]{\styleoption{bsei} (\underline{\texttt{1}})}\label{sec:bsei}
Die Option \styleoption{bsei} dient der Festlegung der 'border style effect intensity' (Größe der Wolkenelemente). Die PDF-Referenz empfiehlt dabei Werte zwischen 1 und 2. 

\subsubsection[\texttt{caption}]{\styleoption{caption} (\texttt{none},\underline{\texttt{inline}},\texttt{top})}\label{sec:caption}
Die Option \styleoption{caption} dient der Festlegung des Typs der Linienüberschriften.

Die beiden Optionen \styleoption{inline} und \styleoption{top} zeigen den Kommentar in der Linie bzw. über der Linie. Bei Verwendung der Option \styleoption{none} erscheint der Kommentar in einer PDF popup annotation. 

\subsubsection[\texttt{captionhoffset}]{\styleoption{captionhoffset} (\underline{\texttt{0pt}})}\label{sec:captionhoffset}
Die Option \styleoption{captionhoffset} dient der Festlegung eines horizontalen Offsets, d.\,h. einer seitlichen Verschiebung, der Linienüberschrift.

\subsubsection[\texttt{captionvoffset}]{\styleoption{captionvoffset} (\underline{\texttt{0pt}})}\label{sec:captionvoffset}
Die Option \styleoption{captionvoffset} dient der Festlegung eines vertikalen Offsets der Linienüberschrift.

\subsubsection[\texttt{hoffset}]{\styleoption{hoffset} (\underline{\texttt{0pt}})}\label{sec:hoffset}
Die Option \styleoption{hoffset} dient der Festlegung eines horizontalen Offsets der PDF annotations.

\subsubsection[\texttt{voffset}]{\styleoption{voffset} (\underline{\texttt{0pt}})}\label{sec:voffset}
Die Option \styleoption{voffset} dient der Festlegung eines vertikalen Offsets, d.\,h. einer vertikalen Verschiebung um den angegebenen Wert.

\subsubsection[\texttt{width}]{\styleoption{width} (\underline{\texttt{0pt}})}\label{sec:width}
Die Option \styleoption{width} dient der Festlegung der Breite der PDF annotations, speziell der Breite der FreeText annotations. PDF text annatations haben grundsätzlich eine Breite von 0pt.

\subsubsection[\texttt{height}]{\styleoption{height} (\underline{\texttt{0pt}})}\label{sec:height}
Die Option \styleoption{height} dient der Festlegung der Höhe der PDF annotations. Bei PDF text annotations wurde die Höhe auf \cmd\normalbaselineskip{} festgelegt.

\subsubsection[\texttt{markup}]{\styleoption{markup} (\underline{\texttt{Highlight}},\texttt{Underline},\texttt{Squiggly},\texttt{StrikeOut})}\label{sec:markup}
Die Option \styleoption{markup} dient der Festlegung des Typs der text markup annotations.

\subsubsection[\texttt{disable}]{\styleoption{disable} (\texttt{true},\underline{\texttt{false})}}\label{sec:disable}
Mit der Option \styleoption{disable} kann man einzelne PDF annotations abschalten. Benützt man die Option \styleoption{disable} global kann man auch mit der Option \styleoption{disable}\texttt{=false} lokal einzelne PDF annotations einschalten.

\subsubsection[\texttt{date}]{\styleoption{date}}\label{sec:date}
Mit der Option \styleoption{date} kann man den PDF annotations ein Datum zuordnen. Falls kein explizites Datum gesetzt wird, wird das Datum und die Uhrzeit der PDF-Dokument-Erstellung verwendet. Die Eingabe muß im PDF-Datumformat erfolgen, z.B.:

\begin{center}
\begin{tabular}{l}
\texttt{D:YYYYMMDDhhmmss+TZ}\\
\texttt{D:20101224153657+01'00'}
\end{tabular}
\end{center}

\subsubsection[\texttt{timezone}]{\styleoption{timezone} (\underline{\texttt{+00'00'}})}\label{sec:timezone}
Sie müssen die Option \styleoption{timezone} nur benutzen, falls Sie die automatische Datumssetzung und \XeLaTeX\ verwenden. Ansonsten wird die \texttt{pdflatex}-Primitive \string\pdfcreationdate\ verwendet. \styleoption{timezone}=+01'00' setzt die Zeitzone auf mitteleuropäische Zeit.

\subsubsection[\texttt{avatar}]{\styleoption{avatar}}\label{sec:avatar}
Mit der Option \styleoption{avatar} kann man die mit dem Befehl \cmd\defineavatar{} vordefinierten Optionslisten laden, um lästige Tipparbeit zu vermeiden. 

\subsubsection[\texttt{style}]{\styleoption{style}}\label{sec:style}
Die Option \styleoption{style} dient ebenfalls dem Laden vordefinierter Optionslisten zur Trennung personenbezogener und stylister Optionen, z.\,B. \texttt{avatar=Josef, style=MyComment}.

\subsubsection[\texttt{mathstyle}]{\styleoption{mathstyle} (\underline{\texttt{\string\textstyle}})}\label{sec:mathstyle}
Die Option \styleoption{mathstyle} dient der Korrektur der Größe von PDF annotations - die mit \texttt{\string\pdfmarkupcomment} oder \texttt{\string\pdftooltip} im math mode erzeugt wurden - durch Setzen des math style auf \texttt{\string\textstyle}, \texttt{\string\displaystyle}, \texttt{\string\scriptstyle} oder \texttt{\string\scriptscriptstyle}. Diese Option ist nur lokal für \texttt{\string\pdfmarkupcomment} und \texttt{\string\pdftooltip} definiert, daher kann sie nicht global gesetzt werden!

\subsubsection[\texttt{printSOfinal}]{\styleoption{printSOfinal} (\underline{\texttt{true}},\texttt{false})}\label{sec:printSOfinal}
Mit der Option \styleoption{printSOfinal} kann man die PDF StrikeOut markup annotations inklusive Text automatisch löschen bei gleichzeitiger Nutzung der Option \styleoption{final} oder \styleoption{disable}.

\section{Umgebungen}\label{sec:umgebungen}

\subsection{Kommentarumgebungen}\label{sec:kommentarumgebungen}

\subsubsection{\texttt{pdfsidelinecomment}}
\label{sec:sidelinecomment}
Mögliche \marginnote{\raggedleft\scriptsize\envb{pdfsidelinecomment}\\\oarg{Optionen}\marg{Kommentar}\\\dots\\\enve{pdfsidelinecomment}}Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{color}, \styleoption{icolor}, \styleoption{opacity}, \styleoption{linewidth}, \styleoption{linebegin}, \styleoption{lineend}, \styleoption{linesep}, \styleoption{borderstyle}, \styleoption{dashstyle}, \styleoption{caption}, \styleoption{captionhoffset}, \styleoption{captionvoffset}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
Mit der Umgebung \env{pdfsidelinecomment} kann man ganze Seitenbereiche in Form zweier Linien in den Randspalten mit einem Kommentar kennzeichnen.

\begin{pdfsidelinecomment}[color=red,icolor=yellow,linebegin=/Circle,lineend=/Circle,linewidth=3bp,linesep=1cm]{ ! Beachten ! }

Einschränkungen:

\begin{itemize}
\item Die PDF sideline annotation darf nicht länger sein als eine Seite, da sonst die Erkennung des Seitenumbruchs fehlschlägt.
\item Bei der zwischenzeitlichen Nutzung von dvi-Dateien benötigt man eine \LaTeX{}-Distribution, die \texttt{pdf(e)latex} in einer Version $\geq$ v1.40.0\footnote{ältere Versionen sind nicht in der Lage im dvi mode x/y-Koordinaten der aktuellen Position zur Verfügung zu stellen.} als Engine benutzt!
\item Bei der Verwendung von \XeLaTeX{} muß Sorge getragen werden, daß die korrekte Seitengröße in die xdvi-Datei geschrieben wird, z.\,B. über die Option \styleoption{pagesize} bei Verwendung der KoMa-Script-Klassen, bzw. als Option beim Paket \package{typearea.sty}.
\end{itemize}
\end{pdfsidelinecomment}

\section{Befehle}\label{sec:befehle}

\subsection{Kommentarbefehle}\label{sec:kommentarbefehle}

Die folgenden Befehlen können Sie zur Kommentierung Ihres Dokuments einsetzen.

\subsubsection{\texorpdfstring{\cs{pdfcomment}}{\textbackslash pdfcomment}}
\label{sec:pdfcomment}
Mögliche \margcs{\cmd\pdfcomment\\\oarg{Optionen}\marg{Kommentar}}Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{icon}, \styleoption{color}, \styleoption{opacity}, \styleoption{open}, \styleoption{hspace}, \styleoption{voffset}, \styleoption{hoffset}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdfcomment{} setzt den Kommentar an der aktuellen Position \pdfcommentsetup{subject={\textbackslash pdfcomment Test},hspace=20pt}\pdfcomment[icon=Star,color=YellowGreen]{Das ist ein Kommentar im Fließtext} in den Fließtext.

Das Argument \marg{Kommentar} muß dazu intern in PDFDocEncoding/PDFUni\-code\footnote{\cmd\hypersetup\{unicode\}} umgewandelt werden. Einige Zeichen mit spezieller \LaTeX{}-Bedeutung (\texttt{\&}, \texttt{\%,} ...) muß man daher escapen oder mit ihrer Befehlsform ersetzen, z.\,B. \texttt{\string\_} bzw. \texttt{\string\textunderscore}. Zusätzlich gibt es für die Formatierung die folgenden Befehle:

\begin{center}
\begin{tabular}{cl}
\hline
\cmd\textHT & horizontal tab \\
\cmd\textLF & line feed \\
\cmd\textCR & carriage return \\
\hline
\end{tabular}
\end{center}


\subsubsection{\texorpdfstring{\cs{pdfmargincomment}}{\textbackslash pdfmargincomment}}
\label{sec:pdfmargincomment}
Mögliche \margcs{\cmd\pdfmargincomment\\\oarg{Optionen}\marg{Kommentar}}Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{icon}, \styleoption{color}, \styleoption{opacity}, \styleoption{open}, \styleoption{hspace}, \styleoption{voffset}, \styleoption{hoffset}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdfmargincomment{} setzt den Kommentar in Höhe der aktuellen Zeile in die Randspalte. Bitte beachten Sie in diesem Beispiel die Positionierung des Kommentars. Diese Dokumentation wurde mit der \LaTeX{}-Klasse \texttt{ltxdoc}\pdfcommentsetup{subject={\textbackslash pdfmargincomment Test}}\pdfmargincomment[icon=Help,color=DeepPink,hspace=-30pt]{Das ist ein Kommentar in der Randspalte} erstellt. Daher erscheint der Kommentar in der linken Randspalte.

\subsubsection{\texorpdfstring{\cs{pdfmarkupcomment}}{\textbackslash pdfmarkupcomment}}
\label{sec:pdfmarkupcomment}
Mögliche \margcs{\cmd\pdfmarkupcomment\oarg{Optionen}\\\marg{Markup Text}\marg{Kommentar}}Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{color}, \styleoption{opacity}, \styleoption{markup}, \styleoption{mathstyle}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdfmarkupcomment{} setzt eine sogenannte PDF text markup annotation über den mit dem Argument \marg{Markup Text} festgelegten Text. Mögliche Typen für die Option \styleoption{markup} sind dabei: \pdfcommentsetup{subject={\textbackslash pdfmarkupcomment Test}}\pdfmarkupcomment[color=yellow,markup=Highlight]{Highlight}{Das ist eine Highlight markup annotation!}, \pdfmarkupcomment[color=red,markup=Underline]{Underline}{Das ist eine Underline markup annotation!}, \pdfmarkupcomment[color=Teal,markup=Squiggly]{Squiggly}{Das ist eine Squiggly markup annotation!} und \pdfmarkupcomment[color=red,markup=StrikeOut]{StrikeOut}{Das ist eine StrikeOut markup annotation!}

\hspace*{0pt}\newline
Einschränkungen:

\begin{itemize}
\item Wie die Bezeichnung PDF text markup annotation vermuten läßt, eignet sich diese Form der Kommentierung ausschließlich für reinen Text.
\item Der mit dem Argument \marg{Markup Text} festgelegte Text darf nicht länger sein als ein Absatz.
\item Die PDF text markup annotation darf nicht länger sein als eine Seite, da sonst die Erkennung des Seitenumbruchs fehlschlägt.
\item Bei der zwischenzeitlichen Nutzung von dvi-Dateien benötigt man eine \LaTeX{}-Distribution, die \texttt{pdf(e)latex} in einer Version $\geq$ v1.40.0\footnote{ältere Versionen sind nicht in der Lage im dvi mode x/y-Koordinaten der aktuellen Position zur Verfügung zu stellen.} als Engine benutzt!
\item Bei der Verwendung von \XeLaTeX{} muß Sorge getragen werden, daß die korrekte Seitengröße in die xdvi-Datei geschrieben wird, z.\,B. über die Option \styleoption{pagesize} bei Verwendung der KoMa-Script-Klassen, bzw. als Option beim Paket \package{typearea.sty}.
\end{itemize}

Seit Version v1.6 funktioniert \texttt{\string\pdfmarkupcomment} auch im math mode. Sie können jetzt also auch Formeln kommentieren, wie z.\,B.:

\definestyle{mathpopup}{author={},subject={},color=NavajoWhite,markup=Highlight}

\[
\begin{array}{c>{\displaystyle}c}
 \text{ Bernoulli Trials: } &
 \pdfmarkupcomment[style=mathpopup]{P(E)}{Probability of event E: Get exactly k heads in n coin flips.}%
  =
 \pdfmarkupcomment[style=mathpopup]{\dbinom{n}{k}}{Number of ways to get exactly k heads in n coin flips}%
  {\pdfmarkupcomment[style=mathpopup]{p}{Probability of getting heads in one flip}%
}^{%
    \pdfmarkupcomment[style=mathpopup,mathstyle=\scriptstyle]{k}{Number of heads}
  }%
 \pdfmarkupcomment[style=mathpopup]{(1-p)}{Probability of getting tails in one flip}^{%
 \pdfmarkupcomment[style=mathpopup,mathstyle=\scriptstyle]{n-k}{Number of tails}%
 }%
\end{array}
\]

Beachten Sie bitte auch \LinkExMath{} für eine genauere Beschreibung der neuen Möglichkeiten!

\subsubsection{\texorpdfstring{\cs{pdffreetextcomment}}{\textbackslash pdffreetextcomment}}
\label{sec:pdffreetextcomment}
Mögliche \margcs{\cmd\pdffreetextcomment\\\oarg{Optionen}\marg{Kommentar}} Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{color}, \styleoption{font}, \styleoption{fontsize}, \styleoption{fontcolor}, \styleoption{opacity}, \styleoption{line}, \styleoption{linewidth}, \styleoption{lineend}, \styleoption{borderstyle}, \styleoption{dashstyle}, \styleoption{bse}, \styleoption{bsei},  \styleoption{type}, \styleoption{height}, \styleoption{width}, \styleoption{voffset}, \styleoption{hoffset}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdffreetextcomment{} (\texttt{type=freetext}) setzt einen Kommentar in Form einer frei positionierbaren Box an die gewünschte Stelle der Seite\pdffreetextcomment[subject={\textbackslash pdffreetextcomment Test},height=1.2cm,width=6cm,voffset=-4.1cm,hoffset=-4cm,opacity=0.5,color=yellow]{Das ist eine FreeText annotation}. Bei Verwendung der Option \styleoption{type}\texttt{=callout} verfügt die Box zusätzlich über eine sogenannte Callout Linie, um die Box an ein bestimmtes Element der Seite zu binden. Mit der Option \styleoption{type}\texttt{=typewriter} kann man einen Kommentar an einer beliebigen Stelle mit einer virtuellen 'Schreibmaschine' schreiben. Diese PDF freetext annotation haben keinen Rand und einen transparenten Hintergrund. Dadurch kann man beliebige Stellen 'überschreiben'. Bitte beachten Sie dazu die Beispieldatei \LinkEx!

\subsubsection{\texorpdfstring{\cs{pdfsquarecomment}}{\textbackslash pdfsquarecomment}}
\label{sec:pdfsquarecomment}
Mögliche \margcs{\cmd\pdfsquarecomment\\\oarg{Optionen}\marg{Kommentar}} Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{color}, \styleoption{icolor}, \styleoption{opacity}, \styleoption{linewidth}, \styleoption{borderstyle}, \styleoption{dashstyle}, \styleoption{bse}, \styleoption{bsei},  \styleoption{height}, \styleoption{width}, \styleoption{voffset}, \styleoption{hoffset}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdfsquarecomment{} setzt einen Kommentar in Form einer rechteckigen Box an die gewünschte Stelle der Seite (siehe: \LinkEx).

\subsubsection{\texorpdfstring{\cs{pdfcirclecomment}}{\textbackslash pdfcirclecomment}}
\label{sec:pdfcirclecomment}
Mögliche \margcs{\cmd\pdfcirclecomment\\\oarg{Optionen}\marg{Kommentar}} Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{color}, \styleoption{icolor}, \styleoption{opacity}, \styleoption{linewidth}, \styleoption{borderstyle}, \styleoption{dashstyle}, \styleoption{bse}, \styleoption{bsei},  \styleoption{height}, \styleoption{width}, \styleoption{voffset}, \styleoption{hoffset}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdfsquarecomment{} setzt einen Kommentar in Form eines Kreises oder einer Ellipse an die gewünschte Stelle der Seite (siehe: \LinkEx).

\subsubsection{\texorpdfstring{\cs{pdflinecomment}}{\textbackslash pdflinecomment}}
\label{sec:pdflinecomment}
Mögliche \margcs{\cmd\pdfsidelinecomment\\\oarg{Optionen}\marg{Kommentar}}Optionen: \styleoption{avatar}, \styleoption{style}, \styleoption{subject}, \styleoption{author}, \styleoption{type}, \styleoption{color}, \styleoption{icolor}, \styleoption{opacity}, \styleoption{caption}, \styleoption{captionhoffset}, \styleoption{captionvoffset},  \styleoption{linewidth}, \styleoption{linebegin}, \styleoption{lineend}, \styleoption{line}, \styleoption{borderstyle}, \styleoption{dashstyle}, \styleoption{disable}, \styleoption{date}, \styleoption{timezone}

\bigskip
\cmd\pdflinecomment{} setzt einen Kommentar in Form einer Linie. Polylinie oder Polygon an die gewünschte Stelle der Seite (siehe: \LinkEx).

\subsection{Tooltips}

\subsubsection{\texorpdfstring{\cs{pdftooltip}}{\textbackslash pdftooltip}}
\label{sec:pdftooltip}
Mögliche \margcs{\cmd\pdftooltip\oarg{Optionen}\\\marg{Objekt}\marg{Kommentar}}Optionen: \styleoption{disable}, \styleoption{mathstyle}

\bigskip
Mit dem Befehl \cmd\pdftooltip{} kann man beliebige Objekte mit einem Tooltip versehen - vorausgesetzt man kann das Objekt in eine Box setzen, um die Größe zu messen. Sie können die Tooltips daher problemlos mit \pdftooltip{\textcolor{red}{Wörtern}}{Das ist ein Tooltip!} verwenden oder in chemischen Formeln: $\pdftooltip{H_{2}SO_{4}}{Schwefelsäure}$ 

Es funktioniert natürlich auch in abgesetzten Formeln: \[\pdftooltip[mathstyle=\displaystyle]{\sum_{i=1}^{n}i=\frac{1}{2}n\cdot(n+1)}{kleiner Gauß}\]

Bitte beachten Sie auch die Hinweise im Abschnitt \ref{sec:pdfmarkupcomment} zur Verwendung im Mathemodus.

Möchten Sie Teile einer Grafik mit Tooltips versehen bedarf es spezieller Methoden, da \cmd\pdftooltip{} in diesen Fällen die Größe nicht selbst bestimmen kann. Bitte beachten Sie dazu die Beispieldatei \LinkEx!

\texttt{\cmd\pdftooltip} kann nicht durch die Option \styleoption{final} beeinflusst werden, da die meisten Nutzer die Tooltips sicherlich im finalen Dokument haben möchten. Sie können jedoch mit der Option \styleoption{disable} ausgeschaltet werden..

\bigskip
\begin{tikzpicture}
    \draw [<->,thick] (0,2) node (yaxis) [above] {$y$}
        |- (3,0) node (xaxis) [right] {$x$};
    \draw (0,0) coordinate (a_1) -- (2,1.8) coordinate (a_2);
    \draw (0,1.5) coordinate (b_1) -- (2.5,0) coordinate (b_2);
    \coordinate (c) at (intersection of a_1--a_2 and b_1--b_2);
    \draw[dashed] (yaxis |- c) node[left] {$y'$}
        -| (xaxis -| c) node[below] {$x'$};
    %
    \fill[red] (0,0) circle (2pt);
    \draw (0,0) node {\pdftooltip{\rule{0pt}{0.5cm}\rule{0.5cm}{0pt}}{Origin}};
    %
    \draw[red] (1.5,2) node {\pdftooltip{\textbullet}{1.5,2.0}};
    %
    \fill[red] (c) circle (2pt)
    let
        \p1 = (current path bounding box.south west),
        \p2 = (current path bounding box.north east)
    in
    node at (current path bounding box)
    {\pdftooltip{\rule{\dimexpr\x2-\x1\relax}{0pt}\rule{0pt}{\dimexpr\y2-\y1\relax}}%
    {This is the intersection point\textCR of the two lines!}};   
\end{tikzpicture}
\hspace{1cm}
\begin{tikzpicture}
    \draw (1.5,0) node[below] {countries};
    \draw (0,1) node[left] {\pdftooltip{SCI}{Sausage Consumption Index}};
    \fill[blue] (0.5,0) rectangle (1,1.2)
    let
        \p1 = (current path bounding box.south west),
        \p2 = (current path bounding box.north east)
    in
    node at (current path bounding box)
    % these calculations are based on scale factor 1 otherwise use:
    % \dimexpr(scale factor)\dimexpr\x2-\x1\relax\relax
    {\pdftooltip{\rule{\dimexpr\x2-\x1\relax}{0pt}\rule{0pt}{\dimexpr\y2-\y1\relax}}%
    {USA: 120}};
    \fill[red] (1.5,0) rectangle (2,1.8)
    let
        \p1 = (current path bounding box.south west),
        \p2 = (current path bounding box.north east)
    in
    node at (current path bounding box)
    {\pdftooltip{\rule{\dimexpr\x2-\x1\relax}{0pt}\rule{0pt}{\dimexpr\y2-\y1\relax}}%
    {Germany: 180}};
    \fill[green] (2.5,0) rectangle (3,0.65)
    let
        \p1 = (current path bounding box.south west),
        \p2 = (current path bounding box.north east)
    in
    node at (current path bounding box)
    {\pdftooltip{\rule{\dimexpr\x2-\x1\relax}{0pt}\rule{0pt}{\dimexpr\y2-\y1\relax}}%
    {South Africa: 65}};
    \draw [<->,thick] (0,2) node (yaxis) [above] {$y$}
        |- (3.5,0) node (xaxis) [right] {$x$};
\end{tikzpicture}

\subsection{Allgemeine Befehle}

\subsubsection{\texorpdfstring{\cs{pdfcommentsetup}}{\textbackslash pdfcommentsetup}}
\label{sec:commentsetup}
Mit dem Befehl \cmd\pdfcommentsetup \margcs{\cmd\pdfcommentsetup\\\oarg{Optionen}\marg{Optionen}} kann man jederzeit die globalen Styleoptionen neu setzen. Die optionale Option \styleoption{local} hält den Reset lokal (innerhalb einer \LaTeX\ Gruppe).

\subsubsection{\texorpdfstring{\cs{listofpdfcomments}}{\textbackslash listofpdfcomments}}
\label{sec:listofpdfcomments}
Der Befehl \cmd\listofpdfcomments\margcs{\cmd\listofpdfcomments\oarg{Optionen}} erzeugt eine Liste der Kommentare, um das Auffinden der Kommentare zu vereinfachen. Der Befehl bietet die folgenden Optionen:

\begin{itemize}
\item \styleoption{liststyle} dient der Festlegung des Listenstils. Dabei sind folgende Werte möglich:
\begin{itemize}
\item \mco{AuthorSubject} (default)
\item \mco{AuthorSubjectDeadline}
\item \mco{SubjectAuthorComment}
\item \mco{SubjectAuthorCommentDeadline}
\item \mco{AuthorComment}
\item \mco{AuthorCommentDeadline}
\item \mco{SubjectComment}
\item \mco{SubjectCommentDeadline}
\item \mco{Comment}
\item \mco{CommentDeadline}
\end{itemize}

\item \styleoption{heading} dient der Festlegung der Überschrift, z.\,B. \styleoption{heading}=\{Liste der Kommentare\}.
\end{itemize}

\subsubsection{\texorpdfstring{\cs{setliststyle}}{\textbackslash setliststyle}}
\label{sec:setliststyle}
Der Befehl \cmd\setliststyle\margcs{\cmd\setliststyle\marg{Name}} ist notwendig, falls Kommentare bereits vor \cmd\listofpdfcomments\ eingesetzt werden und ein alternativer Listenstil gewünscht wird.

\subsubsection{\texorpdfstring{\cs{defineliststyle}}{\textbackslash defineliststyle}}
\label{sec:defineliststyle}
Der Befehl \cmd\defineliststyle\margcs{\cmd\defineliststyle\\\marg{Name}\marg{Definition}} dient der Definition neuer Listenstile, z.\,B.:

\medskip
\cmd\makeatletter\\
\cmd\defineliststyle\{MyListstyle\}\{\cmd\pc@lopt@subject\texttt{\textbackslash}\ \cmd\textcolor\{green\}\\\{(\cmd\pc@lopt@author)\}:\texttt{\textbackslash}\ \cmd\pc@lopt@comment\texttt{\textbackslash}\ \cmd\textcolor\{red\}\\\{(\cmd\pc@lopt@deadline)\}\\
\cmd\makeatother

\subsubsection{\texorpdfstring{\cs{defineavatar}}{\textbackslash defineavatar}}
\label{sec:defineavatar}
Der Befehl \cmd\defineavatar \margcs{\cmd\defineavatar\marg{Name}\marg{Optionen}} dient der Erstellung benannter vordefinierter Optionslisten, die später in den Kommentarbefehlen über die Option \styleoption{avatar} wieder geladen werden. Damit können z.\,B. mehrere Autoren eines Dokuments sehr einfach zwischen ihren Avataren -- also ihren grafischen Repräsentationen -- wechseln. 

\subsubsection{\texorpdfstring{\cs{definestyle}}{\textbackslash definestyle}}
\label{sec:definestyle}
Analog dient \cmd\definestyle \margcs{\cmd\definestyle\marg{Name}\marg{Optionen}} dazu die Optionslisten bei Bedarf in personenbezogene und stylistische Optionslisten aufzuteilen (siehe \file{example.tex}). Geladen wird die Optionsliste in den Befehlen über die Option \styleoption{style}.

\section{Drucken der Kommentare und Popups}
\label{sec:print}
\texttt{Adobe Reader} kann prinzipiell PDF annotations drucken. Dazu muß man im Druckdialog im Feld 'Kommentare und Formulare' die Einstellung 'Dokument und Markierungen' wählen. Zusätzlich muß das Drucken im Menü 'Bearbeiten $\rightarrow$ Voreinstellungen $\rightarrow$ Kommentieren $\rightarrow$ Notizen und Popups drucken' konfiguriert werden. Diese Einstellungsmöglichkeit gibt es seit der Veröffentlichung von \texttt{Adobe Reader X}. Bei alteren Versionen bleibt nur die Möglichkeit die Konfigurationsdateien selbst zu ändern. 

\begin{description}
\item[Windows:] Ändern der Registry Einträge notwendig (auf eigene Gefahr!)

Starten Sie den Registry Editor (\file{regedit.exe}) und öffnen Sie z.\,B. für \texttt{Adobe Reader 9.0} den folgenden Schlüssel:

\texttt{HKEY\_CURRENT\_USER/Software/Adobe/Acrobat Reader/9.0/Annots/\newline cPrefs}

Der Schlüssel ist für andere Versionen bis auf die Versionsnummer und Groß- und Kleinschreibung ähnlich!

Öffnen oder erstellen Sie (bei geschlossenem \texttt{Adobe Reader}) den Schlüssel \texttt{bprintCommentPopups} und ändern Sie den Wert auf 1 (dword).

\item[Linux:] Öffnen Sie die Konfigurationsdatei:

\nolinkurl{~/.adobe/Acrobat/8.0/Preferences/reader_prefs}

mit einem Text-Editor und ändern Sie den Eintrag 

{\texttt{/printCommentPopups\,[/b false]} zu \texttt{/printCommentPopups\,[/b true]}}
\end{description}

Bitte beachten Sie, daß nur geöffnete popup annotations gedruckt werden!

\end{document}
